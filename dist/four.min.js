!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(11),u=r(a),c=n(12),f=r(c),s=n(14),l=r(s),h=n(18),d=r(h),p=n(19),v=r(p),y=n(20),m=r(y),b=n(21),g=r(b),_=n(22),w=r(_),O=n(23),M=r(O),E=n(24),k=r(E),P=n(25),j=r(P),T=n(26),R=r(T),A=n(27),x=r(A),S=n(28),F=r(S),D=n(29),C=r(D),L=n(30),N=r(L),U=n(32),Y=r(U),q=n(35),I=r(q),B=n(36),X=r(B),V=n(48),H=r(V),z=n(49),G=r(z),W=n(38),Z=r(W),Q=n(47),K=r(Q),J=n(37),$=r(J),tt=n(50),et=r(tt),nt=n(16),rt=r(nt),it=n(52),ot=r(it),at=n(51),ut=r(at),ct=n(53),ft=r(ct),st=n(54),lt=r(st),ht=n(17),dt=r(ht),pt=n(31),vt=r(pt),yt=n(55),mt=r(yt),bt=n(56),gt=r(bt),_t=n(57),wt=r(_t),Ot=n(58),Mt=r(Ot),Et=window.Four={glm:o["default"],gl:u["default"],Attribute:f["default"],Camera:l["default"],Canvas:d["default"],OrthographicCamera:v["default"],PerspectiveCamera:m["default"],Framebuffer:g["default"],DeferredFramebuffer:w["default"],DepthFramebuffer:M["default"],Light:k["default"],DirectionalLight:j["default"],PointLight:R["default"],SpotLight:x["default"],Material:F["default"],PhongMaterial:C["default"],Mesh:N["default"],MeshLoader:Y["default"],OBJMeshLoader:I["default"],Program:X["default"],Renderbuffer:H["default"],Scene:G["default"],Shader:Z["default"],FragmentShader:K["default"],VertexShader:$["default"],ShadowMapper:et["default"],Structure:rt["default"],Texture:ot["default"],DataTexture:ut["default"],DepthTexture:ft["default"],ImageTexture:lt["default"],Uniform:dt["default"],VertexArrayObject:vt["default"],Particle:mt["default"],ParticleSystem:gt["default"],Spring:wt["default"],Cloth:Mt["default"]};e["default"]=Et},function(t,e,n){"use strict";e.glMatrix=n(2),e.mat2=n(3),e.mat2d=n(4),e.mat3=n(5),e.mat4=n(6),e.quat=n(7),e.vec2=n(10),e.vec3=n(8),e.vec4=n(9)},function(t,e){"use strict";var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},t.exports=n},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},i.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],c=n[1],f=n[2],s=n[3];return t[0]=r*u+o*c,t[1]=i*u+a*c,t[2]=r*f+o*s,t[3]=i*f+a*s,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*u,t[1]=i*c+a*u,t[2]=r*-u+o*c,t[3]=i*-u+a*c,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],c=n[1];return t[0]=r*u,t[1]=i*u,t[2]=o*c,t[3]=a*c,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},t.exports=i},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=n*o-r*i;return c?(c=1/c,t[0]=o*c,t[1]=-r*c,t[2]=-i*c,t[3]=n*c,t[4]=(i*u-o*a)*c,t[5]=(r*a-n*u)*c,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=n[0],s=n[1],l=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*f+o*s,t[1]=i*f+a*s,t[2]=r*l+o*h,t[3]=i*l+a*h,t[4]=r*d+o*p+u,t[5]=i*d+a*p+c,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*f,t[1]=i*s+a*f,t[2]=r*-f+o*s,t[3]=i*-f+a*s,t[4]=u,t[5]=c,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=n[0],s=n[1];return t[0]=r*f,t[1]=i*f,t[2]=o*s,t[3]=a*s,t[4]=u,t[5]=c,t},i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=n[0],s=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*f+o*s+u,t[5]=i*f+a*s+c,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},t.exports=i},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],f=e[7],s=e[8],l=s*a-u*f,h=-s*o+u*c,d=f*o-a*c,p=n*l+r*h+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-s*r+i*f)*p,t[2]=(u*r-i*a)*p,t[3]=h*p,t[4]=(s*n-i*c)*p,t[5]=(-u*n+i*o)*p,t[6]=d*p,t[7]=(-f*n+r*c)*p,t[8]=(a*n-r*o)*p,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],f=e[7],s=e[8];return t[0]=a*s-u*f,t[1]=i*f-r*s,t[2]=r*u-i*a,t[3]=u*c-o*s,t[4]=n*s-i*c,t[5]=i*o-n*u,t[6]=o*f-a*c,t[7]=r*c-n*f,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],c=t[7],f=t[8];return e*(f*o-a*c)+n*(-f*i+a*u)+r*(c*i-o*u)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],h=n[0],d=n[1],p=n[2],v=n[3],y=n[4],m=n[5],b=n[6],g=n[7],_=n[8];return t[0]=h*r+d*a+p*f,t[1]=h*i+d*u+p*s,t[2]=h*o+d*c+p*l,t[3]=v*r+y*a+m*f,t[4]=v*i+y*u+m*s,t[5]=v*o+y*c+m*l,t[6]=b*r+g*a+_*f,t[7]=b*i+g*u+_*s,t[8]=b*o+g*c+_*l,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=c,t[6]=h*r+d*a+f,t[7]=h*i+d*u+s,t[8]=h*o+d*c+l,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*i+h*u,t[2]=d*o+h*c,t[3]=d*a-h*r,t[4]=d*u-h*i,t[5]=d*c-h*o,t[6]=f,t[7]=s,t[8]=l,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,c=i+i,f=n*a,s=r*a,l=r*u,h=i*a,d=i*u,p=i*c,v=o*a,y=o*u,m=o*c;return t[0]=1-l-p,t[3]=s-m,t[6]=h+y,t[1]=s+m,t[4]=1-f-p,t[7]=d-v,t[2]=h-y,t[5]=d+v,t[8]=1-f-l,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],f=e[7],s=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],m=e[15],b=n*u-r*a,g=n*c-i*a,_=n*f-o*a,w=r*c-i*u,O=r*f-o*u,M=i*f-o*c,E=s*v-l*p,k=s*y-h*p,P=s*m-d*p,j=l*y-h*v,T=l*m-d*v,R=h*m-d*y,A=b*R-g*T+_*j+w*P-O*k+M*E;return A?(A=1/A,t[0]=(u*R-c*T+f*j)*A,t[1]=(c*P-a*R-f*k)*A,t[2]=(a*T-u*P+f*E)*A,t[3]=(i*T-r*R-o*j)*A,t[4]=(n*R-i*P+o*k)*A,t[5]=(r*P-n*T-o*E)*A,t[6]=(v*M-y*O+m*w)*A,t[7]=(y*_-p*M-m*g)*A,t[8]=(p*O-v*_+m*b)*A,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},t.exports=i},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],f=e[7],s=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],m=e[15],b=n*u-r*a,g=n*c-i*a,_=n*f-o*a,w=r*c-i*u,O=r*f-o*u,M=i*f-o*c,E=s*v-l*p,k=s*y-h*p,P=s*m-d*p,j=l*y-h*v,T=l*m-d*v,R=h*m-d*y,A=b*R-g*T+_*j+w*P-O*k+M*E;return A?(A=1/A,t[0]=(u*R-c*T+f*j)*A,t[1]=(i*T-r*R-o*j)*A,t[2]=(v*M-y*O+m*w)*A,t[3]=(h*O-l*M-d*w)*A,t[4]=(c*P-a*R-f*k)*A,t[5]=(n*R-i*P+o*k)*A,t[6]=(y*_-p*M-m*g)*A,t[7]=(s*M-h*_+d*g)*A,t[8]=(a*T-u*P+f*E)*A,t[9]=(r*P-n*T-o*E)*A,t[10]=(p*O-v*_+m*b)*A,t[11]=(l*_-s*O-d*b)*A,t[12]=(u*k-a*j-c*E)*A,t[13]=(n*j-r*k+i*E)*A,t[14]=(v*g-p*w-y*b)*A,t[15]=(s*w-l*g+h*b)*A,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],f=e[7],s=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],m=e[15];return t[0]=u*(h*m-d*y)-l*(c*m-f*y)+v*(c*d-f*h),t[1]=-(r*(h*m-d*y)-l*(i*m-o*y)+v*(i*d-o*h)),t[2]=r*(c*m-f*y)-u*(i*m-o*y)+v*(i*f-o*c),t[3]=-(r*(c*d-f*h)-u*(i*d-o*h)+l*(i*f-o*c)),t[4]=-(a*(h*m-d*y)-s*(c*m-f*y)+p*(c*d-f*h)),t[5]=n*(h*m-d*y)-s*(i*m-o*y)+p*(i*d-o*h),t[6]=-(n*(c*m-f*y)-a*(i*m-o*y)+p*(i*f-o*c)),t[7]=n*(c*d-f*h)-a*(i*d-o*h)+s*(i*f-o*c),t[8]=a*(l*m-d*v)-s*(u*m-f*v)+p*(u*d-f*l),t[9]=-(n*(l*m-d*v)-s*(r*m-o*v)+p*(r*d-o*l)),t[10]=n*(u*m-f*v)-a*(r*m-o*v)+p*(r*f-o*u),t[11]=-(n*(u*d-f*l)-a*(r*d-o*l)+s*(r*f-o*u)),t[12]=-(a*(l*y-h*v)-s*(u*y-c*v)+p*(u*h-c*l)),t[13]=n*(l*y-h*v)-s*(r*y-i*v)+p*(r*h-i*l),t[14]=-(n*(u*y-c*v)-a*(r*y-i*v)+p*(r*c-i*u)),t[15]=n*(u*h-c*l)-a*(r*h-i*l)+s*(r*c-i*u),t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],c=t[7],f=t[8],s=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],y=t[15],m=e*a-n*o,b=e*u-r*o,g=e*c-i*o,_=n*u-r*a,w=n*c-i*a,O=r*c-i*u,M=f*p-s*d,E=f*v-l*d,k=f*y-h*d,P=s*v-l*p,j=s*y-h*p,T=l*y-h*v;return m*T-b*j+g*P+_*k-w*E+O*M},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],y=e[13],m=e[14],b=e[15],g=n[0],_=n[1],w=n[2],O=n[3];return t[0]=g*r+_*u+w*l+O*v,t[1]=g*i+_*c+w*h+O*y,t[2]=g*o+_*f+w*d+O*m,t[3]=g*a+_*s+w*p+O*b,g=n[4],_=n[5],w=n[6],O=n[7],t[4]=g*r+_*u+w*l+O*v,t[5]=g*i+_*c+w*h+O*y,t[6]=g*o+_*f+w*d+O*m,t[7]=g*a+_*s+w*p+O*b,g=n[8],_=n[9],w=n[10],O=n[11],t[8]=g*r+_*u+w*l+O*v,t[9]=g*i+_*c+w*h+O*y,t[10]=g*o+_*f+w*d+O*m,t[11]=g*a+_*s+w*p+O*b,g=n[12],_=n[13],w=n[14],O=n[15],t[12]=g*r+_*u+w*l+O*v,t[13]=g*i+_*c+w*h+O*y,t[14]=g*o+_*f+w*d+O*m,t[15]=g*a+_*s+w*p+O*b,t},i.mul=i.multiply,i.translate=function(t,e,n){var r,i,o,a,u,c,f,s,l,h,d,p,v=n[0],y=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*m+e[12],t[13]=e[1]*v+e[5]*y+e[9]*m+e[13],t[14]=e[2]*v+e[6]*y+e[10]*m+e[14],t[15]=e[3]*v+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],f=e[6],s=e[7],l=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=c,t[6]=f,t[7]=s,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+u*y+l*m+e[12],t[13]=i*v+c*y+h*m+e[13],t[14]=o*v+f*y+d*m+e[14],t[15]=a*v+s*y+p*m+e[15]),t},i.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.rotate=function(t,e,n,i){var o,a,u,c,f,s,l,h,d,p,v,y,m,b,g,_,w,O,M,E,k,P,j,T,R=i[0],A=i[1],x=i[2],S=Math.sqrt(R*R+A*A+x*x);return Math.abs(S)<r.EPSILON?null:(S=1/S,R*=S,A*=S,x*=S,o=Math.sin(n),a=Math.cos(n),u=1-a,c=e[0],f=e[1],s=e[2],l=e[3],h=e[4],d=e[5],p=e[6],v=e[7],y=e[8],m=e[9],b=e[10],g=e[11],_=R*R*u+a,w=A*R*u+x*o,O=x*R*u-A*o,M=R*A*u-x*o,E=A*A*u+a,k=x*A*u+R*o,P=R*x*u+A*o,j=A*x*u-R*o,T=x*x*u+a,t[0]=c*_+h*w+y*O,t[1]=f*_+d*w+m*O,t[2]=s*_+p*w+b*O,t[3]=l*_+v*w+g*O,t[4]=c*M+h*E+y*k,t[5]=f*M+d*E+m*k,t[6]=s*M+p*E+b*k,t[7]=l*M+v*E+g*k,t[8]=c*P+h*j+y*T,t[9]=f*P+d*j+m*T,t[10]=s*P+p*j+b*T,t[11]=l*P+v*j+g*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],u=e[6],c=e[7],f=e[8],s=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+f*r,t[5]=a*i+s*r,t[6]=u*i+l*r,t[7]=c*i+h*r,t[8]=f*i-o*r,t[9]=s*i-a*r,t[10]=l*i-u*r,t[11]=h*i-c*r,t},i.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],c=e[3],f=e[8],s=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-f*r,t[1]=a*i-s*r,t[2]=u*i-l*r,t[3]=c*i-h*r,t[8]=o*r+f*i,t[9]=a*r+s*i,t[10]=u*r+l*i,t[11]=c*r+h*i,t},i.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],c=e[3],f=e[4],s=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+f*r,t[1]=a*i+s*r,t[2]=u*i+l*r,t[3]=c*i+h*r,t[4]=f*i-o*r,t[5]=s*i-a*r,t[6]=l*i-u*r,t[7]=h*i-c*r,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,n){var i,o,a,u=n[0],c=n[1],f=n[2],s=Math.sqrt(u*u+c*c+f*f);return Math.abs(s)<r.EPSILON?null:(s=1/s,u*=s,c*=s,f*=s,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=u*u*a+o,t[1]=c*u*a+f*i,t[2]=f*u*a-c*i,t[3]=0,t[4]=u*c*a-f*i,t[5]=c*c*a+o,t[6]=f*c*a+u*i,t[7]=0,t[8]=u*f*a+c*i,t[9]=c*f*a-u*i,t[10]=f*f*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=r+r,c=i+i,f=o+o,s=r*u,l=r*c,h=r*f,d=i*c,p=i*f,v=o*f,y=a*u,m=a*c,b=a*f;return t[0]=1-(d+v),t[1]=l+b,t[2]=h-m,t[3]=0,t[4]=l-b,t[5]=1-(s+v),t[6]=p+y,t[7]=0,t[8]=h+m,t[9]=p-y,t[10]=1-(s+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=e[3],c=i+i,f=o+o,s=a+a,l=i*c,h=i*f,d=i*s,p=o*f,v=o*s,y=a*s,m=u*c,b=u*f,g=u*s,_=r[0],w=r[1],O=r[2];return t[0]=(1-(p+y))*_,t[1]=(h+g)*_,t[2]=(d-b)*_,t[3]=0,t[4]=(h-g)*w,t[5]=(1-(l+y))*w,t[6]=(v+m)*w,t[7]=0,t[8]=(d+b)*O,t[9]=(v-m)*O,t[10]=(1-(l+p))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],u=e[2],c=e[3],f=o+o,s=a+a,l=u+u,h=o*f,d=o*s,p=o*l,v=a*s,y=a*l,m=u*l,b=c*f,g=c*s,_=c*l,w=r[0],O=r[1],M=r[2],E=i[0],k=i[1],P=i[2];return t[0]=(1-(v+m))*w,t[1]=(d+_)*w,t[2]=(p-g)*w,t[3]=0,t[4]=(d-_)*O,t[5]=(1-(h+m))*O,t[6]=(y+b)*O,t[7]=0,t[8]=(p+g)*M,t[9]=(y-b)*M,t[10]=(1-(h+v))*M,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*k+t[8]*P),t[13]=n[1]+k-(t[1]*E+t[5]*k+t[9]*P),t[14]=n[2]+P-(t[2]*E+t[6]*k+t[10]*P),t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,c=i+i,f=n*a,s=r*a,l=r*u,h=i*a,d=i*u,p=i*c,v=o*a,y=o*u,m=o*c;return t[0]=1-l-p,t[1]=s+m,t[2]=h-y,t[3]=0,t[4]=s-m,t[5]=1-f-p,t[6]=d+v,t[7]=0,t[8]=h+y,t[9]=d-v,t[10]=1-f-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,o,a){var u=1/(n-e),c=1/(i-r),f=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*c,t[10]=(a+o)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*f,t[15]=0,t},i.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(a+u),f=2/(i+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-((a-u)*c*.5),t[9]=(i-o)*f*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},i.ortho=function(t,e,n,r,i,o,a){var u=1/(e-n),c=1/(r-i),f=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*c,t[14]=(a+o)*f,t[15]=1,t},i.lookAt=function(t,e,n,o){var a,u,c,f,s,l,h,d,p,v,y=e[0],m=e[1],b=e[2],g=o[0],_=o[1],w=o[2],O=n[0],M=n[1],E=n[2];return Math.abs(y-O)<r.EPSILON&&Math.abs(m-M)<r.EPSILON&&Math.abs(b-E)<r.EPSILON?i.identity(t):(h=y-O,d=m-M,p=b-E,v=1/Math.sqrt(h*h+d*d+p*p),h*=v,d*=v,p*=v,a=_*p-w*d,u=w*h-g*p,c=g*d-_*h,v=Math.sqrt(a*a+u*u+c*c),v?(v=1/v,a*=v,u*=v,c*=v):(a=0,u=0,c=0),f=d*c-p*u,s=p*a-h*c,l=h*u-d*a,v=Math.sqrt(f*f+s*s+l*l),v?(v=1/v,f*=v,s*=v,l*=v):(f=0,s=0,l=0),t[0]=a,t[1]=f,t[2]=h,t[3]=0,t[4]=u,t[5]=s,t[6]=d,t[7]=0,t[8]=c,t[9]=l,t[10]=p,t[11]=0,t[12]=-(a*y+u*m+c*b),t[13]=-(f*y+s*m+l*b),t[14]=-(h*y+d*m+p*b),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},t.exports=i},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(8),a=n(9),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var c=o.dot(i,a);return-.999999>c?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,n,i),o.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):c>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+c,u.normalize(r,r))}}(),u.setAxes=function(){var t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=a.clone,u.fromValues=a.fromValues,u.copy=a.copy,u.set=a.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,n){n=.5*n;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},u.add=a.add,u.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],c=n[1],f=n[2],s=n[3];return t[0]=r*s+a*u+i*f-o*c,t[1]=i*s+a*c+o*u-r*f,t[2]=o*s+a*f+r*c-i*u,t[3]=a*s-r*u-i*c-o*f,t},u.mul=u.multiply,u.scale=a.scale,u.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*u,t[1]=i*c+o*u,t[2]=o*c-i*u,t[3]=a*c-r*u,t},u.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c-o*u,t[1]=i*c+a*u,t[2]=o*c+r*u,t[3]=a*c-i*u,t},u.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*u,t[1]=i*c-r*u,t[2]=o*c+a*u,t[3]=a*c-o*u,t},u.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},u.dot=a.dot,u.lerp=a.lerp,u.slerp=function(t,e,n,r){var i,o,a,u,c,f=e[0],s=e[1],l=e[2],h=e[3],d=n[0],p=n[1],v=n[2],y=n[3];return o=f*d+s*p+l*v+h*y,0>o&&(o=-o,d=-d,p=-p,v=-v,y=-y),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,c=Math.sin(r*i)/a):(u=1-r,c=r),t[0]=u*f+c*d,t[1]=u*s+c*p,t[2]=u*l+c*v,t[3]=u*h+c*y,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(n,r,i,o,a,c){return u.slerp(t,r,a,c),u.slerp(e,i,o,c),u.slerp(n,t,e,2*c*(1-c)),n}}(),u.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,u=a?1/a:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=o*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=a.length,u.len=u.length,u.squaredLength=a.squaredLength,u.sqrLen=u.squaredLength,u.normalize=a.normalize,u.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=u},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],c=n[2];return t[0]=i*c-o*u,t[1]=o*a-r*c,t[2]=r*u-i*a,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,i,o){var a=o*o,u=a*(2*o-3)+1,c=a*(o-2)+o,f=a*(o-1),s=a*(3-2*o);return t[0]=e[0]*u+n[0]*c+r[0]*f+i[0]*s,t[1]=e[1]*u+n[1]*c+r[1]*f+i[1]*s,t[2]=e[2]*u+n[2]*c+r[2]*f+i[2]*s,t},i.bezier=function(t,e,n,r,i,o){var a=1-o,u=a*a,c=o*o,f=u*a,s=3*o*u,l=3*c*a,h=c*o;return t[0]=e[0]*f+n[0]*s+r[0]*l+i[0]*h,t[1]=e[1]*f+n[1]*s+r[1]*l+i[1]*h,t[2]=e[2]*f+n[2]*s+r[2]*l+i[2]*h,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],c=n[2],f=n[3],s=f*r+u*o-c*i,l=f*i+c*r-a*o,h=f*o+a*i-u*r,d=-a*r-u*i-c*o;return t[0]=s*f+d*-a+l*-c-h*-u,t[1]=l*f+d*-u+h*-a-s*-c,t[2]=h*f+d*-c+s*-u-l*-a,t},i.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var u,c;for(n||(n=3),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,u=r;c>u;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},t.exports=i},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=u+r*(n[3]-u),t},i.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],c=n[2],f=n[3],s=f*r+u*o-c*i,l=f*i+c*r-a*o,h=f*o+a*i-u*r,d=-a*r-u*i-c*o;return t[0]=s*f+d*-a+l*-c-h*-u,t[1]=l*f+d*-u+h*-a-s*-c,t[2]=h*f+d*-c+s*-u-l*-a,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var u,c;for(n||(n=4),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,u=r;c>u;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=i},function(t,e,n){"use strict";var r=n(2),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],
t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var u,c;for(n||(n=2),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,u=r;c>u;u+=n)t[0]=e[u],t[1]=e[u+1],o(t,t,a),e[u]=t[0],e[u+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},t.exports=i},function(t,e){"use strict";function n(){var t=document.querySelector("canvas"),e=window.devicePixelRatio,n=parseFloat(t.getAttribute("width"))||window.innerWidth,r=parseFloat(t.getAttribute("height"))||window.innerHeight;return t.setAttribute("width",n*e),t.setAttribute("height",r*e),t.style.width=n,t.style.height=r,t}function r(t){return i.getContext(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(),o=r("webgl")||r("experimental-webgl");e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h="attribute",d="FLOAT",p=!1,v=0,y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.attribute,u=t.length,c=t.format,f=void 0===c?d:c,s=t.normalized,l=void 0===s?p:s,y=t.offset,m=void 0===y?v:y;i(this,e);var b=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return b.attribute=a,b.location=void 0,b.length=u,b.format=f,b.normalized=l,b.offset=m,b.inheritance=["Entity","Attribute"],b}return a(e,t),u(e,[{key:"getByteCount",value:function(t){return this.length*t}},{key:"locate",value:function(t){return this.location=f["default"].getAttribLocation(t.buffer,"a_"+this.attribute)}},{key:"enable",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.locate(t);~n&&(f["default"].enableVertexAttribArray(n),f["default"].vertexAttribPointer(n,this.length,this.format,this.normalized,e,this.offset))}},{key:"disable",value:function(){var t=this.location;~t&&f["default"].disableVertexAttribArray(t)}},{key:"attribute",get:function(){return this._attribute},set:function(t){this._attribute=t}},{key:"location",get:function(){return this._location},set:function(t){this._location=t}},{key:"length",get:function(){return this._length},set:function(t){this._length=t}},{key:"format",get:function(){return f["default"][this._format]},set:function(t){this._format=t}},{key:"normalized",get:function(){return this._normalized},set:function(t){this._normalized=t}},{key:"offset",get:function(){return this._offset},set:function(t){this._offset=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=y},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var i={},o="entity",a=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=e.name,i=void 0===r?o:r;n(this,t),this.name=i,this.basename=i,this.inheritance=["Entity"]}return r(t,[{key:"is",value:function(t){return null!==this.name.match(t,"i")}},{key:"isType",value:function(t){return-1!==this.inheritance.indexOf(t)}},{key:"name",get:function(){return this._name},set:function(t){void 0===i[t]&&(i[t]=-1),i[t]++,this._name=t+".0"+i[t]}},{key:"basename",get:function(){return this._basename},set:function(t){this._basename=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),t}();e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function M(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:M(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(1),h=n(15),d=r(h),p=n(16),v=r(p),y={x:[1,0,0],y:[0,1,0],z:[0,0,1]},m=.0174532925,b="camera",g="camera",_=["mat4 projectionMatrix","mat4 modelViewMatrix","mat3 normalMatrix"],w=0,O=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?b:n,a=t.path,u=void 0===a?g:a,c=t.uniforms,f=void 0===c?_:c,s=t.background,h=void 0===s?w:s;i(this,e);var d=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:u,uniforms:f}));return d.background=h,d.modelViewMatrix=l.mat4.create(),d.projectionMatrix=l.mat4.create(),d.normalMatrix=l.mat3.create(),d.stack=[],d.inheritance=["Entity","Structure","Camera"],d}return a(e,t),u(e,[{key:"configure",value:function(){s["default"].enable(s["default"].CULL_FACE),s["default"].frontFace(s["default"].CCW),s["default"].clearColor.apply(s["default"],this.background.concat(1))}},{key:"bind",value:function(t){l.mat3.normalFromMat4(this.normalMatrix,this.modelViewMatrix),c(Object.getPrototypeOf(e.prototype),"bind",this).call(this,t)}},{key:"save",value:function(){var t=l.mat4.clone(this.modelViewMatrix);this.stack.push(t)}},{key:"restore",value:function(){var t=this.stack;if(t.length){var e=t.pop();l.mat4.copy(this.modelViewMatrix,e)}}},{key:"scale",value:function(t,e,n){var r=this.modelViewMatrix;l.mat4.scale(r,r,arguments)}},{key:"scaleX",value:function(t){this.scale(t,1,1)}},{key:"scaleY",value:function(t){this.scale(1,t,1)}},{key:"scaleZ",value:function(t){this.scale(1,1,t)}},{key:"rotate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?"y":arguments[1],n=this.modelViewMatrix,r=t*m;l.mat4.rotate(n,n,r,y[e])}},{key:"rotateX",value:function(t){this.rotate(t,"x")}},{key:"rotateY",value:function(t){this.rotate(t,"y")}},{key:"rotateZ",value:function(t){this.rotate(t,"z")}},{key:"translate",value:function(t,e,n){var r=this.modelViewMatrix;l.mat4.translate(r,r,arguments)}},{key:"translateX",value:function(t){this.translate(t,0,0)}},{key:"translateY",value:function(t){this.translate(0,t,0)}},{key:"translateZ",value:function(t){this.translate(0,0,t)}},{key:"background",get:function(){return this._background},set:function(t){this._background=(0,d["default"])(t)}},{key:"modelViewMatrix",get:function(){return this._modelViewMatrix},set:function(t){this._modelViewMatrix=t}},{key:"projectionMatrix",get:function(){return this._projectionMatrix},set:function(t){this._projectionMatrix=t}},{key:"normalMatrix",get:function(){return this._normalMatrix},set:function(t){this._normalMatrix=t}},{key:"stack",get:function(){return this._stack},set:function(t){this._stack=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(v["default"]);e["default"]=O},function(t,e){"use strict";function n(t){var e=t>>16&255,n=t>>8&255,r=255&t;return e/=255,n/=255,r/=255,[e,n,r]}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(13),f=r(c),s=n(17),l=r(s),h="structure",d=[],p=function(t){function e(t){var n=t.name,r=void 0===n?h:n,a=t.path,u=t.uniforms,c=void 0===u?d:u;i(this,e);var f=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return f.path=a,f.uniforms=c,f.inheritance=["Entity","Structure"],f}return a(e,t),u(e,[{key:"instantiate",value:function(t){var e=t.split(" "),n=e[0],r=e[1];return new l["default"]({path:this.path,uniform:r,format:n})}},{key:"bind",value:function(t){this.uniforms.map(this.set.bind(this,t))}},{key:"unbind",value:function(){}},{key:"set",value:function(t,e){e.set(t,this[e.uniform])}},{key:"path",get:function(){return this._path},set:function(t){this._path=t}},{key:"uniforms",get:function(){return this._uniforms},set:function(t){this._uniforms=t.map(this.instantiate.bind(this))}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h={i:"1i",ivec2:"2iv",ivec3:"3iv",ivec4:"4iv",f:"1f",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat2:"Matrix2fv",mat3:"Matrix3fv",mat4:"Matrix4fv",sampler:"1i"},d="uniform",p=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?d:n,a=t.path,u=t.uniform,c=t.format;i(this,e);var f=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return f.path=a,f.uniform=u,f.location=void 0,f.format=c,f.method=c,f.inheritance=["Entity","Uniform"],f}return a(e,t),u(e,[{key:"locate",value:function(t){var e=this.path,n=this.uniform;return"sampler"!==this.format&&void 0!==e&&(n=[e,n].join(".")),this.location=f["default"].getUniformLocation(t.buffer,"u_"+n)}},{key:"set",value:function(t,e){var n=this.locate(t),r=this.method;null!==r.match("Matrix")?f["default"][r](n,!1,e):f["default"][r](n,e)}},{key:"path",get:function(){return this._path},set:function(t){this._path=t}},{key:"uniform",get:function(){return this._uniform},set:function(t){this._uniform=t}},{key:"location",get:function(){return this._location},set:function(t){this._location=t}},{key:"format",get:function(){return this._format},set:function(t){this._format=t}},{key:"method",get:function(){return this._method},set:function(t){this._method="uniform"+h[t]}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(13),f=r(c),s="canvas",l="canvas",h=window.innerWidth,d=window.innerHeight,p=window.devicePixelRatio,v=!1,y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?s:n,a=t.selector,u=void 0===a?l:a,c=t.width,f=void 0===c?h:c,y=t.height,m=void 0===y?d:y,b=t.dpi,g=void 0===b?p:b,_=t.picking,w=void 0===_?v:_;i(this,e);var O=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return O.canvas=void 0,O.width=f,O.height=m,O.dpi=g,O.gl=gl,O.picking=w,O.inheritance=["Entity","Canvas"],O.prime(u),O.contextualise(),O}return a(e,t),u(e,[{key:"prime",value:function(t){var e=document.querySelector(t),n=this.width,r=this.height,i=this.dpi;e.setAttribute("width",n*i),e.setAttribute("height",r*i),e.style.width=n,e.style.height=r,this.canvas=e}},{key:"contextualise",value:function(){var t=this.canvas,e=t.getContext("webgl")||t.getContext("experimental-webgl");this.gl=e}},{key:"pick",value:function(){}},{key:"canvas",get:function(){return this._canvas},set:function(t){this._canvas=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"dpi",get:function(){return this._dpi},set:function(t){this._dpi=t}},{key:"gl",get:function(){return this._gl},set:function(t){this._gl=t}},{key:"picking",get:function(){return this._picking},set:function(t){this._picking=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function _(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:_(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(1),h=n(14),d=r(h),p="orthographic.camera",v=-1,y=-1,m=.1,b=1,g=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?p:n,a=t.path,u=t.uniforms,c=t.background,f=t.left,s=void 0===f?v:f,l=t.right,h=t.bottom,d=void 0===h?y:h,g=t.top,_=t.near,w=void 0===_?m:_,O=t.far,M=void 0===O?b:O;i(this,e);var E=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:u,background:c}));return E.left=s,E.right=l,E.bottom=d,E.top=g,E.near=w,E.far=M,E.inheritance=["Entity","Structure","Camera","OrthographicCamera"],E.configure(),E}return a(e,t),u(e,[{key:"configure",value:function(){c(Object.getPrototypeOf(e.prototype),"configure",this).call(this),l.mat4.ortho(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),l.mat4.identity(this.modelViewMatrix)}},{key:"bind",value:function(t){c(Object.getPrototypeOf(e.prototype),"bind",this).call(this,t),s["default"].disable(s["default"].DEPTH_TEST),s["default"].viewport(0,0,this.right,this.top)}},{key:"left",get:function(){return this._left},set:function(t){this._left=t}},{key:"right",get:function(){return this._right},set:function(t){this._right=t}},{key:"bottom",get:function(){return this._bottom},set:function(t){this._bottom=t}},{key:"top",get:function(){return this._top},set:function(t){this._top=t}},{key:"near",get:function(){return this._near},set:function(t){this._near=t}},{key:"far",get:function(){return this._far},set:function(t){this._far=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(d["default"]);e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function E(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:E(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(1),h=n(14),d=r(h),p="perspective.camera",v=s["default"].canvas.width,y=s["default"].canvas.height,m=45,b=.1,g=1e3,_=[0,0,0],w=[10,10,-10],O=[0,1,0],M=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?p:n,a=t.path,u=t.uniforms,c=t.background,f=t.width,s=void 0===f?v:f,l=t.height,h=void 0===l?y:l,d=t.fov,M=void 0===d?m:d,E=t.near,k=void 0===E?b:E,P=t.far,j=void 0===P?g:P,T=t.direction,R=void 0===T?_:T,A=t.location,x=void 0===A?w:A,S=t.up,F=void 0===S?O:S;i(this,e);var D=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:u,background:c}));return D.width=s,D.height=h,D.fov=M,D.ratio=s/h,D.near=k,D.far=j,D.direction=R,D.location=x,D.up=F,D.inheritance=["Entity","Structure","Camera","PerspectiveCamera"],D.configure(),D}return a(e,t),u(e,[{key:"configure",value:function(){c(Object.getPrototypeOf(e.prototype),"configure",this).call(this);var t=this.modelViewMatrix;s["default"].clearDepth(1),s["default"].depthFunc(s["default"].LEQUAL),l.mat4.perspective(this.projectionMatrix,this.fov,this.ratio,this.near,this.far),l.mat4.identity(t),l.mat4.lookAt(t,this.location,this.direction,this.up)}},{key:"bind",value:function(t){c(Object.getPrototypeOf(e.prototype),"bind",this).call(this,t),s["default"].enable(s["default"].DEPTH_TEST),s["default"].viewport(0,0,this.width,this.height)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"fov",get:function(){return this._fov},set:function(t){this._fov=t}},{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=t}},{key:"near",get:function(){return this._near},set:function(t){this._near=t}},{key:"far",get:function(){return this._far},set:function(t){this._far=t}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t}},{key:"location",get:function(){return this._location},set:function(t){this._location=t}},{key:"up",get:function(){return this._up},set:function(t){this._up=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(d["default"]);e["default"]=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h="framebuffer",d=!0,p=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.flushable,u=void 0===a?d:a;i(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return c.buffer=null,c.flushable=u,c.inheritance=["Entity","Framebuffer"],c}return a(e,t),u(e,[{key:"bind",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];f["default"].bindFramebuffer(f["default"].FRAMEBUFFER,this.buffer),this.flushable&&t&&this.flush()}},{key:"unbind",value:function(){f["default"].bindFramebuffer(f["default"].FRAMEBUFFER,null)}},{key:"flush",value:function(){f["default"].clear(f["default"].COLOR_BUFFER_BIT|f["default"].DEPTH_BUFFER_BIT)}},{key:"check",value:function(){var t=f["default"].checkFramebufferStatus(f["default"].FRAMEBUFFER),e=!1;switch(t){case f["default"].FRAMEBUFFER_UNSUPPORTED:e="unsupported";break;case f["default"].FRAMEBUFFER_INCOMPLETE_ATTACHMENT:e="attachments incomplete";break;case f["default"].FRAMEBUFFER_INCOMPLETE_DIMENSIONS:e="dimensions incomplete";break;case f["default"].FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:e="attachment missing"}if(e)throw f["default"].deleteFramebuffer(this.buffer),new Error(e)}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"flushable",get:function(){return this._flushable},set:function(t){this._flushable=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(21),l=r(s),h="deferred.framebuffer",d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.colorAttachment,u=t.depthAttachment,c=t.flushable;i(this,e);var s=o(this,Object.getPrototypeOf(e).call(this,{name:r,flushable:c}));return s.buffer=f["default"].createFramebuffer(),s.colorAttachment=a,s.depthAttachment=u,s.inheritance=["Entity","Framebuffer","DeferredFramebuffer"],s.configure(),s}return a(e,t),u(e,[{key:"configure",value:function(){this.bind(!1),f["default"].framebufferTexture2D(f["default"].FRAMEBUFFER,f["default"].COLOR_ATTACHMENT0,f["default"].TEXTURE_2D,this.colorAttachment.buffer,0),f["default"].framebufferRenderbuffer(f["default"].FRAMEBUFFER,f["default"].DEPTH_ATTACHMENT,f["default"].RENDERBUFFER,this.depthAttachment.buffer),this.check(),this.unbind()}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"colorAttachment",get:function(){return this._colorAttachment},set:function(t){this._colorAttachment=t}},{key:"depthAttachment",get:function(){return this._depthAttachment},set:function(t){this._depthAttachment=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(21),l=r(s),h="depth.framebuffer",d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.colorAttachment,u=t.depthAttachment,c=t.flushable;i(this,e);var s=o(this,Object.getPrototypeOf(e).call(this,{name:r,flushable:c}));return s.buffer=f["default"].createFramebuffer(),s.colorAttachment=a,s.depthAttachment=u,s.inheritance=["Entity","Framebuffer","DepthFramebuffer"],s.configure(),s}return a(e,t),u(e,[{key:"configure",value:function(){this.bind(!1),f["default"].framebufferTexture2D(f["default"].FRAMEBUFFER,f["default"].COLOR_ATTACHMENT0,f["default"].TEXTURE_2D,this.colorAttachment.buffer,0),f["default"].framebufferTexture2D(f["default"].FRAMEBUFFER,f["default"].DEPTH_ATTACHMENT,f["default"].TEXTURE_2D,this.depthAttachment.buffer,0),this.check(),this.unbind()}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"colorAttachment",get:function(){return this._colorAttachment},set:function(t){this._colorAttachment=t}},{key:"depthAttachment",get:function(){return this._depthAttachment},set:function(t){this._depthAttachment=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(15),f=r(c),s=n(16),l=r(s),h="light",d="light",p=["vec3 ambient","vec3 diffuse","vec3 specular","f intensity","vec3 location","i type"],v=0,y=16777215,m=16777215,b=1,g=[0,0,0],_=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.path,u=void 0===a?d:a,c=t.uniforms,f=void 0===c?p:c,s=t.ambient,l=void 0===s?v:s,_=t.diffuse,w=void 0===_?y:_,O=t.specular,M=void 0===O?m:O,E=t.intensity,k=void 0===E?b:E,P=t.location,j=void 0===P?g:P;i(this,e);var T=o(this,Object.getPrototypeOf(e).call(this,{
name:r,path:u,uniforms:f}));return T.ambient=l,T.diffuse=w,T.specular=M,T.intensity=k,T.location=j,T.type=0,T.inheritance=["Entity","Structure","Light"],T}return a(e,t),u(e,[{key:"ambient",get:function(){return this._ambient},set:function(t){this._ambient=(0,f["default"])(t)}},{key:"diffuse",get:function(){return this._diffuse},set:function(t){this._diffuse=(0,f["default"])(t)}},{key:"specular",get:function(){return this._specular},set:function(t){this._specular=(0,f["default"])(t)}},{key:"intensity",get:function(){return this._intensity},set:function(t){this._intensity=t}},{key:"location",get:function(){return this._location},set:function(t){this._location=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(24),f=r(c),s="directional.light",l=["vec3 ambient","vec3 diffuse","vec3 specular","f intensity","vec3 location","vec3 direction","i type"],h=[0,0,0],d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?s:n,a=t.path,u=t.uniforms,c=void 0===u?l:u,f=t.ambient,d=t.diffuse,p=t.specular,v=t.intensity,y=t.location,m=t.direction,b=void 0===m?h:m;i(this,e);var g=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:c,ambient:f,diffuse:d,specular:p,intensity:v,location:y}));return g.direction=b,g.type=1,g.inheritance=["Entity","Structure","Light","DirectionalLight"],g}return a(e,t),u(e,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(24),f=r(c),s="point.light",l=["vec3 ambient","vec3 diffuse","vec3 specular","f radius","f intensity","vec3 location","i type"],h=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?s:n,a=t.path,u=t.uniforms,c=void 0===u?l:u,f=t.ambient,h=t.diffuse,d=t.specular,p=t.radius,v=t.intensity,y=t.location;i(this,e);var m=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:c,ambient:f,diffuse:h,specular:d,intensity:v,location:y}));return m.radius=p,m.type=2,m.inheritance=["Entity","Structure","Light","PointLight"],m}return a(e,t),u(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(24),f=r(c),s="spot.light",l=["vec3 ambient","vec3 diffuse","vec3 specular","vec3 attenuation","f exponent","f cutoff","f intensity","vec3 location","vec3 direction","i type"],h=[0,0,0],d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?s:n,a=t.path,u=t.uniforms,c=void 0===u?l:u,f=t.ambient,d=t.diffuse,p=t.specular,v=t.attenuation,y=t.exponent,m=t.cutoff,b=t.intensity,g=t.location,_=t.direction,w=void 0===_?h:_;i(this,e);var O=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:c,ambient:f,diffuse:d,specular:p,intensity:b,location:g}));return O.attenuation=v,O.exponent=y,O.cutoff=m,O.direction=w,O.type=3,O.inheritance=["Entity","Structure","Light","SpotLight"],O}return a(e,t),u(e,[{key:"attenuation",get:function(){return this._attenuation},set:function(t){this._attenuation=t}},{key:"cutoff",get:function(){return this._cutoff},set:function(t){this._cutoff=t}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function O(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:O(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(15),s=r(f),l=n(16),h=r(l),d={flat:1,smooth:0},p="material",v="material",y=["sampler image","vec3 ambient","vec3 diffuse","i shading","i type"],m={},b=16777215,g=16777215,_="smooth",w=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?p:n,a=t.path,u=void 0===a?v:a,c=t.uniforms,f=void 0===c?y:c,s=t.pattern,l=void 0===s?m:s,h=t.ambient,w=void 0===h?b:h,O=t.diffuse,M=void 0===O?g:O,E=t.shading,k=void 0===E?_:E;i(this,e);var P=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:u,uniforms:f}));return P.ambient=w,P.diffuse=M,P.image=l.unit,P.shading=d[k],P.pattern=l,P.type=0,P.inheritance=["Entity","Structure","Material"],P}return a(e,t),u(e,[{key:"bind",value:function(t){c(Object.getPrototypeOf(e.prototype),"bind",this).call(this,t),void 0!==this.image&&this.pattern.bind()}},{key:"unbind",value:function(){c(Object.getPrototypeOf(e.prototype),"unbind",this).call(this),void 0!==this.image&&this.pattern.unbind()}},{key:"ambient",get:function(){return this._ambient},set:function(t){this._ambient=(0,s["default"])(t)}},{key:"diffuse",get:function(){return this._diffuse},set:function(t){this._diffuse=(0,s["default"])(t)}},{key:"image",get:function(){return this._image},set:function(t){this._image=t}},{key:"shading",get:function(){return this._shading},set:function(t){this._shading=d[t]}},{key:"pattern",get:function(){return this._pattern},set:function(t){this._pattern=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(h["default"]);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(15),f=r(c),s=n(28),l=r(s),h="phong.material",d=["sampler image","vec3 ambient","vec3 diffuse","vec3 specular","f shininess","i shading","i type"],p=[1,1,1],v=75,y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.path,u=t.uniforms,c=void 0===u?d:u,f=t.pattern,s=t.ambient,l=t.diffuse,y=t.specular,m=void 0===y?p:y,b=t.shading,g=t.shininess,_=void 0===g?v:g;i(this,e);var w=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:c,pattern:f,ambient:s,diffuse:l,shading:b}));return w.specular=m,w.shininess=_,w.type=1,w.inheritance=["Entity","Structure","Material","PhongMaterial"],w}return a(e,t),u(e,[{key:"specular",get:function(){return this._specular},set:function(t){this._specular=(0,f["default"])(t)}},{key:"shininess",get:function(){return this._shininess},set:function(t){this._shininess=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h=n(31),d=r(h),p={vertices:"position",colors:"color",uvs:"uv",normals:"normal"},v="mesh",y=[],m=[],b=[],g=[],_=[],w="STATIC_DRAW",O="TRIANGLES",M=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?v:n,a=t.buffers,u=t.loader,c=t.vertices,f=void 0===c?y:c,s=t.colors,l=void 0===s?m:s,h=t.uvs,d=void 0===h?b:h,p=t.normals,M=void 0===p?g:p,E=t.indices,k=void 0===E?_:E,P=t.usage,j=void 0===P?w:P,T=t.primitive,R=void 0===T?O:T,A=t.material;i(this,e);var x=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return x.buffers=a,x.vertices=f,x.colors=l,x.uvs=d,x.normals=M,x.indices=k,x.usage=j,x.primitive=R,x.material=A,x.scale=[1,1,1],x.rotation=0,x.translation=[0,0,0],x.inheritance=["Entity","Mesh"],x.unpack(u),x.generate(),x.configure(),x}return a(e,t),u(e,[{key:"unpack",value:function(t){void 0!==t&&(this.vertices=t.vertices,this.colors=t.colors,this.uvs=t.uvs,this.normals=t.normals,this.indices=t.indices)}},{key:"generate",value:function(){if(void 0===this.buffers){var t=[],e=Boolean(this.indices.length);for(var n in p){var r=this[n];Boolean(r.length)&&t.push("vec"+r[0].length+" "+p[n])}this.buffers=new d["default"]({attributes:t,indexed:e})}}},{key:"configure",value:function(){var t=this.buffers,e=this.usage,n=[],r=this.vertices;if(r.map(this.interleave.bind(this,n)),t.bind(),f["default"].bufferData(f["default"].ARRAY_BUFFER,new t.view(n),e),t.indexed){var i=this.indices;f["default"].bufferData(f["default"].ELEMENT_ARRAY_BUFFER,i,e),this.count=i.length}else this.count=r.length;t.unbind()}},{key:"interleave",value:function(t,e,n){var r=this.colors[n]||[],i=this.uvs[n]||[],o=this.normals[n]||[],a=[].concat(e,r,i,o);[].push.apply(t,a.map(parseFloat))}},{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.vertices:arguments[0];if(this.usage===f["default"].DYNAMIC_DRAW){var e=this.buffers,n=[];t.map(this.interleave.bind(this,n)),e.bind(),f["default"].bufferSubData(f["default"].ARRAY_BUFFER,0,new e.view(n)),e.unbind()}else console.warn("Unable to update Mesh::"+this.name+" vertices, not DYNAMIC_*")}},{key:"draw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.program,n=t.primitive,r=void 0===n?this.primitive:n,i=t.offset,o=void 0===i?0:i,a=t.count,u=void 0===a?this.count:a,c=this.buffers;c.bind(e),c.indexed?f["default"].drawElements(r,u,f["default"].UNSIGNED_SHORT,o):f["default"].drawArrays(r,o,u),c.unbind()}},{key:"buffers",get:function(){return this._buffers},set:function(t){this._buffers=t}},{key:"vertices",get:function(){return this._vertices},set:function(t){this._vertices=t}},{key:"colors",get:function(){return this._colors},set:function(t){this._colors=t}},{key:"uvs",get:function(){return this._uvs},set:function(t){this._uvs=t}},{key:"normals",get:function(){return this._normals},set:function(t){this._normals=t}},{key:"indices",get:function(){return this._indices},set:function(t){this._indices=new Uint16Array(t)}},{key:"usage",get:function(){return this._usage},set:function(t){this._usage=f["default"][t]}},{key:"primitive",get:function(){return this._primitive},set:function(t){this._primitive=f["default"][t]}},{key:"material",get:function(){return this._material},set:function(t){this._material=t}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t}},{key:"translation",get:function(){return this._translation},set:function(t){this._translation=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h=n(12),d=r(h),p={i:1,f:1,vec2:2,vec3:3,vec4:4},v="vertex.array.object",y=!1,m=Float32Array,b=[],g=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?v:n,a=t.indexed,u=void 0===a?y:a,c=t.view,s=void 0===c?m:c,l=t.attributes,h=void 0===l?b:l;i(this,e);var d=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return d.primary=f["default"].createBuffer(),d.secondary=void 0,d.indexed=u,d.stride=0,d.view=s,d.attributes=h,d.inheritance=["Entity","VertexArrayObject"],d.configure(),d}return a(e,t),u(e,[{key:"configure",value:function(){this.indexed&&(this.secondary=f["default"].createBuffer())}},{key:"generate",value:function(t){var e=this.stride,n=t.split(" "),r=p[n[0]],i=n[1],o=new d["default"]({attribute:i,length:r,offset:e});return this.stride+=o.getByteCount(this.view.BYTES_PER_ELEMENT),o}},{key:"enable",value:function(t,e){e.enable(t,this.stride)}},{key:"disable",value:function(t){t.disable()}},{key:"bind",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];f["default"].bindBuffer(f["default"].ARRAY_BUFFER,this.primary),this.indexed&&f["default"].bindBuffer(f["default"].ELEMENT_ARRAY_BUFFER,this.secondary),t&&this.attributes.map(this.enable.bind(this,t))}},{key:"unbind",value:function(){f["default"].bindBuffer(f["default"].ARRAY_BUFFER,null),this.indexed&&f["default"].bindBuffer(f["default"].ELEMENT_ARRAY_BUFFER,null),this.attributes.map(this.disable)}},{key:"primary",get:function(){return this._primary},set:function(t){this._primary=t}},{key:"secondary",get:function(){return this._secondary},set:function(t){this._secondary=t}},{key:"indexed",get:function(){return this._indexed},set:function(t){this._indexed=t}},{key:"stride",get:function(){return this._stride},set:function(t){this._stride=t}},{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"attributes",get:function(){return this._attributes},set:function(t){this._attributes=t.map(this.generate.bind(this))}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(33),f=r(c),s=n(13),l=r(s),h="mesh.loader",d=!1,p=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.path,u=t.indexed,c=void 0===u?d:u;i(this,e);var f=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return f.request=void 0,f.vertices=[],f.colors=[],f.uvs=[],f.normals=[],f.tmp={vertices:[],colors:[],uvs:[],normals:[]},f.indices=[],f.indexed=c,f.inheritance=["Entity","MeshLoader"],f.fetch(a),f}return a(e,t),u(e,[{key:"fetch",value:function(t){this.request=(0,f["default"])(t).then(this.parse.bind(this)).then(this.flush.bind(this))}},{key:"flush",value:function(){delete this.tmp}},{key:"request",get:function(){return this._request},set:function(t){this._request=t}},{key:"vertices",get:function(){return this._vertices},set:function(t){this._vertices=t}},{key:"colors",get:function(){return this._colors},set:function(t){this._colors=t}},{key:"uvs",get:function(){return this._uvs},set:function(t){this._uvs=t}},{key:"normals",get:function(){return this._normals},set:function(t){this._normals=t}},{key:"indices",get:function(){return this._indices},set:function(t){this._indices=t}},{key:"indexed",get:function(){return this._indexed},set:function(t){this._indexed=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=arguments.length<=1||void 0===arguments[1]?"text/plain":arguments[1];return(0,a["default"])(function(n,r){var i=new XMLHttpRequest;i.open("get",t),i.onload=function(){var e=i.status;if(200===e)n(i.response);else{var o=t+": "+i.statusText,a=new Error(o);r(a)}},i.setRequestHeader("contentType",e),i.send()})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(34),a=r(o);e["default"]=i},function(t,e){"use strict";function n(t){return new Promise(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(32),f=r(c),s="obj.mesh.loader",l=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?s:n,a=t.path,u=t.indexed;i(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,indexed:u}));return c.inheritance=["Entity","MeshLoader","OBJMeshLoader"],c}return a(e,t),u(e,[{key:"parse",value:function(t){t.split("\n").map(this.categorise.bind(this))}},{key:"categorise",value:function(t){var e=t.split(" "),n=e.shift(),r=this.tmp;switch(n){case"v":r.vertices.push(e.map(parseFloat));break;case"vt":r.uvs.push(e.map(parseFloat));break;case"vn":r.normals.push(e.map(parseFloat));break;case"f":e.map(this.fork.bind(this))}}},{key:"fork",value:function(t){var e=t.split("/").map(function(t){return t-1});this.indexed?this.keep(e):this.recategorise(e)}},{key:"keep",value:function(t){var e=this.tmp,n=t[0],r=t[1],i=t[2];~n&&(this.vertices[n]=e.vertices[n],this.indices.push(n)),~r&&(this.uvs[n]=e.uvs[r]),~i&&(this.normals[n]=e.normals[i])}},{key:"recategorise",value:function(t){var e=this.tmp,n=t[0],r=t[1],i=t[2];~n&&this.vertices.push(e.vertices[n]),~r&&this.uvs.push(e.uvs[r]),~i&&this.normals.push(e.normals[i])}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h=n(37),d=r(h),p=n(47),v=r(p),y="program",m=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?y:n,a=t.selector;i(this,e);var u=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return u.buffer=f["default"].createProgram(),u.vertexShader=new d["default"]({selector:a}),u.fragmentShader=new v["default"]({selector:a}),u.inheritance=["Entity","Program"],u.link(),u}return a(e,t),u(e,[{key:"link",value:function(){var t=this.buffer;f["default"].attachShader(t,this.vertexShader.buffer),f["default"].attachShader(t,this.fragmentShader.buffer),f["default"].linkProgram(t),this.check()}},{key:"bind",value:function(){f["default"].useProgram(this.buffer)}},{key:"check",value:function(){var t=this.buffer,e=f["default"].getProgramParameter(t,f["default"].LINK_STATUS),n=f["default"].isContextLost();if(!e&&!n){var r=f["default"].getProgramInfoLog(t);throw f["default"].deleteProgram(t),new Error(r)}}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"vertexShader",get:function(){return this._vertexShader},set:function(t){this._vertexShader=t}},{key:"fragmentShader",get:function(){return this._fragmentShader},set:function(t){this._fragmentShader=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(38),f=r(c),s="x-shader/x-vertex",l="vertex.shader",h="VERTEX_SHADER",d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?l:n,a=t.selector;i(this,e);var u=o(this,Object.getPrototypeOf(e).call(this,{name:r,selector:a+'[type="'+s+'"]'},h));return u.inheritance=["Entity","Shader","VertexShader"],u}return a(e,t),u(e,[{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h=n(39),d=r(h),p="shader",v=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?p:n,a=t.selector,u=arguments[1];i(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return c.buffer=f["default"].createShader(f["default"][u]),c.inheritance=["Entity","Shader"],c.compile(u,a),c}return a(e,t),u(e,[{key:"generate",value:function(t,e){var n=document.querySelector(e).textContent;for(var r in d["default"])n=n.replace("@use "+r+";",d["default"][r][t]);return n}},{key:"compile",value:function(t,e){var n=this.buffer,r=this.generate(t,e);f["default"].shaderSource(n,r),f["default"].compileShader(n),this.check()}},{key:"check",value:function(){var t=this.buffer,e=f["default"].getShaderParameter(t,f["default"].COMPILE_STATUS),n=f["default"].isContextLost();if(!e&&!n){var r=f["default"].getShaderInfoLog(t);throw f["default"].deleteShader(t),new Error(r)}}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(40),o=r(i),a=n(41),u=r(a),c=n(42),f=r(c),s=n(43),l=r(s),h=n(44),d=r(h),p=n(45),v=r(p),y=n(46),m=r(y),b={Camera:o["default"],Light:u["default"],DirectionalLight:f["default"],PointLight:l["default"],SpotLight:d["default"],Material:v["default"],ShadowMapper:m["default"]};e["default"]=b},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n   struct Camera\n   {\n      mat4 projectionMatrix;\n      mat4 modelViewMatrix;\n      mat3 normalMatrix;\n   };\n",r="";e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="",r="\n   struct Light\n   {\n      vec3 ambient;\n      vec3 diffuse;\n      vec3 specular;\n      float intensity;\n      vec3 location;\n      int type;\n   };\n\n   vec3 Light_main(Light light, Material material, vec4 position, vec3 normal, vec3 base)\n   {\n      vec3 direction = normalize(light.location - position.xyz);\n      float weight = max(dot(direction, normal), 0.0);\n      vec3 ambient = light.ambient * material.ambient;\n      vec3 diffuse = light.intensity * light.diffuse * (material.diffuse + base) * weight;\n      vec3 specular = vec3(0.0);\n\n      if (material.type == 1 && weight > 0.0)\n      {\n         specular = light.specular * material.specular * pow(max(dot(reflect(-direction, normal), normalize(-position.xyz)), 0.0), material.shininess);\n      }\n\n      return ambient + diffuse + specular;\n   }\n";
e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="",r="";e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="",r="\n   struct PointLight\n   {\n      vec3 ambient;\n      vec3 diffuse;\n      vec3 specular;\n      float radius;\n      float intensity;\n      vec3 location;\n      int type;\n   };\n\n   vec3 PointLight_main(PointLight light, Material material, vec4 position, vec3 normal)\n   {\n      normal = normalize(normal);\n      vec3 pointToLight = light.location - position.xyz;\n      vec3 direction = normalize(pointToLight);\n      float weight = max(dot(normal, direction), 0.0);\n      vec3 ambient = light.ambient * material.ambient;\n      vec3 diffuse = light.diffuse * material.diffuse * weight;\n      vec3 specular = vec3(0.0);\n      float distanceFromLight = length(pointToLight);\n      float quadratic = pow(distanceFromLight / light.radius + 1.0, 2.0);\n      float attenuation = light.intensity / quadratic;\n\n      if (material.type == 1)\n      {\n         if (weight > 0.0)\n         {\n            vec3 eye = normalize(-position.xyz);\n            vec3 reflection = reflect(-direction, normal);\n            specular = light.specular * material.specular * pow(max(dot(reflection, eye), 0.0), material.shininess);\n         }\n      }\n\n      return ambient + (specular + diffuse) * attenuation;\n   }\n";e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="",r="";e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="",r="\n   struct Material\n   {\n      int image;\n      vec3 ambient;\n      vec3 diffuse;\n      vec3 specular;\n      float shininess;\n      int shading;\n      int type;\n   };\n\n   uniform sampler2D u_image;\n";e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n   varying vec4 v_shadow;\n\n   void ShadowMapper_main(vec4 position)\n   {\n      v_shadow = mat4(0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.5, 0.5, 0.5, 1.0) * position;\n   }\n",r="\n   uniform sampler2D u_shadowMap;\n\n   varying vec4 v_shadow;\n\n   float ShadowMapper_visibility()\n   {\n      vec3 depth = v_shadow.xyz / v_shadow.w;\n\n      if (depth.x >= 0.0 && depth.x <= 1.0 && depth.y >= 0.0 && depth.y <= 1.0)\n      {\n         float shadow = texture2D(u_shadowMap, depth.xy).r;\n         float biased = depth.z * 0.99995;\n         if (shadow <= biased)\n         {\n             return 0.3;\n         }\n      }\n\n      return 1.0;\n   }\n";e["default"]={VERTEX_SHADER:n,FRAGMENT_SHADER:r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(38),f=r(c),s="x-shader/x-fragment",l="fragment.shader",h="FRAGMENT_SHADER",d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?l:n,a=t.selector;i(this,e);var u=o(this,Object.getPrototypeOf(e).call(this,{name:r,selector:a+'[type="'+s+'"]'},h));return u.inheritance=["Entity","Shader","FragmentShader"],u}return a(e,t),u(e,[{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h="renderbuffer",d=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.width,u=t.height;i(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return c.buffer=f["default"].createRenderbuffer(),c.width=a,c.height=u,c.inheritance=["Entity","Renderbuffer"],c.configure(),c}return a(e,t),u(e,[{key:"configure",value:function(){this.bind(),f["default"].renderbufferStorage(f["default"].RENDERBUFFER,f["default"].DEPTH_COMPONENT16,this.width,this.height),this.unbind()}},{key:"bind",value:function(){f["default"].bindRenderbuffer(f["default"].RENDERBUFFER,this.buffer)}},{key:"unbind",value:function(){f["default"].bindRenderbuffer(f["default"].RENDERBUFFER,null)}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(13),f=r(c),s="scene",l=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?s:n;i(this,e);var a=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return a.program=void 0,a.meshes=[],a.simulations=[],a.lights=[],a.scale=[1,1,1],a.rotation=0,a.translation=[0,0,0],a.inheritance=["Entity","Scene"],a}return a(e,t),u(e,[{key:"use",value:function(t){t.bind(),this.program=t}},{key:"put",value:function(t){switch(!0){case t.isType("Mesh"):this.meshes.push(t);break;case t.isType("ParticleSystem"):this.simulations.push(t),this.meshes.push(t.mesh);break;case t.isType("Light"):this.lights.push(t);break;default:console.warn(t.name+" disallowed in scene")}}},{key:"animate",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=this.animate.bind(this,t,e,n,r);this.render.apply(this,arguments),requestAnimationFrame(i)}},{key:"render",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=this.program;t.bind(),n&&n(),e.save(),e.scale.apply(e,this.scale),e.rotate(this.rotation),e.translate.apply(e,this.translation),this.lights.map(function(t){return t.bind(i)}),this.simulations.map(function(t){return t.solve()}),this.meshes.map(this.draw.bind(this,e)),e.restore(),r&&r(),t.unbind()}},{key:"draw",value:function(t,e){var n=this.program,r=e.material;t.save(),t.scale.apply(t,e.scale),t.rotate(e.rotation),t.translate.apply(t,e.translation),t.bind(n),r.bind(n),e.draw({program:n}),r.unbind(),t.restore()}},{key:"program",get:function(){return this._program},set:function(t){this._program=t}},{key:"meshes",get:function(){return this._meshes},set:function(t){this._meshes=t}},{key:"lights",get:function(){return this._lights},set:function(t){this._lights=t}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t}},{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t}},{key:"translation",get:function(){return this._translation},set:function(t){this._translation=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function E(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:E(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(16),h=r(l),d=n(51),p=r(d),v=n(53),y=r(v),m=n(23),b=r(m),g="shadow.map",_=["sampler shadowMap"],w=s["default"].canvas.width,O=s["default"].canvas.height,M=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?g:n,a=t.path,u=t.uniforms,c=void 0===u?_:u,f=t.width,s=void 0===f?w:f,l=t.height,h=void 0===l?O:l;i(this,e);var d=o(this,Object.getPrototypeOf(e).call(this,{name:r,path:a,uniforms:c}));return d.colorAttachment=new p["default"]({width:s,height:h}),d.depthAttachment=new y["default"]({width:s,height:h}),d.view=new b["default"]({colorAttachment:d.colorAttachment,depthAttachment:d.depthAttachment}),d.shadowMap=d.depthAttachment.unit,d.inheritance=["Entity","Structure","ShadowMapper"],d}return a(e,t),u(e,[{key:"bind",value:function(t){c(Object.getPrototypeOf(e.prototype),"bind",this).call(this,t),this.depthAttachment.bind()}},{key:"unbind",value:function(){this.depthAttachment.unbind()}},{key:"colorAttachment",get:function(){return this._colorAttachment},set:function(t){this._colorAttachment=t}},{key:"depthAttachment",get:function(){return this._depthAttachment},set:function(t){this._depthAttachment=t}},{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"shadowMap",get:function(){return this._shadowMap},set:function(t){this._shadowMap=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(h["default"]);e["default"]=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:m(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(52),h=r(l),d="data.texture",p=null,v=4,y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?d:n,a=t.image,u=void 0===a?p:a,c=t.lod,f=t.width,s=t.height,l=t.length,h=void 0===l?v:l,y=t.components,m=t.format,b=t.magnification,g=t.minification,_=t.S,w=t.T;i(this,e);var O=o(this,Object.getPrototypeOf(e).call(this,{name:r,lod:c,components:y,format:m,magnification:b,minification:g,S:_,T:w}));return O.image=u,O.width=f,O.height=s,O.length=h,O.inheritance=["Entity","Texture","DataTexture"],O.autofill(),O.configure(),O}return a(e,t),u(e,[{key:"configure",value:function(){c(Object.getPrototypeOf(e.prototype),"configure",this).call(this);var t=this.components,n=this.image;n instanceof Array&&(s["default"].pixelStorei(s["default"].PACK_ALIGNMENT,1),s["default"].pixelStorei(s["default"].UNPACK_ALIGNMENT,1),s["default"].getExtension("OES_texture_float"),n=new Float32Array(n)),s["default"].texImage2D(s["default"].TEXTURE_2D,this.lod,t,this.width,this.height,0,t,this.format,n),this.unbind()}},{key:"autofill",value:function(){var t=this.image;if(t instanceof Array){var e=this.width*this.height*this.length-t.length,n=Array.from(new Array(e),function(){return-1});this.image=t.concat(n)}}},{key:"image",get:function(){return this._image},set:function(t){this._image=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"length",get:function(){return this._length},set:function(t){this._length=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(h["default"]);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(11),f=r(c),s=n(13),l=r(s),h=0,d="texture",p=0,v="RGBA",y="UNSIGNED_BYTE",m="NEAREST",b="NEAREST",g="CLAMP_TO_EDGE",_="CLAMP_TO_EDGE",w=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?d:n,a=t.lod,u=void 0===a?p:a,c=t.components,s=void 0===c?v:c,l=t.format,w=void 0===l?y:l,O=t.magnification,M=void 0===O?m:O,E=t.minification,k=void 0===E?b:E,P=t.S,j=void 0===P?g:P,T=t.T,R=void 0===T?_:T;i(this,e);var A=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return A.buffer=f["default"].createTexture(),A.lod=u,A.components=s,A.format=w,A.magnification=M,A.minification=k,A.S=j,A.T=R,A.unit=h++,A.inheritance=["Entity","Texture"],A}return a(e,t),u(e,[{key:"configure",value:function(){this.bind(),f["default"].texParameteri(f["default"].TEXTURE_2D,f["default"].TEXTURE_MAG_FILTER,this.magnification),f["default"].texParameteri(f["default"].TEXTURE_2D,f["default"].TEXTURE_MIN_FILTER,this.minification),f["default"].texParameteri(f["default"].TEXTURE_2D,f["default"].TEXTURE_WRAP_S,this.S),f["default"].texParameteri(f["default"].TEXTURE_2D,f["default"].TEXTURE_WRAP_T,this.T)}},{key:"bind",value:function(){var t=f["default"].TEXTURE0+this.unit;f["default"].activeTexture(t),f["default"].bindTexture(f["default"].TEXTURE_2D,this.buffer)}},{key:"unbind",value:function(){f["default"].bindTexture(f["default"].TEXTURE_2D,null)}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"lod",get:function(){return this._lod},set:function(t){this._lod=t}},{key:"components",get:function(){return this._components},set:function(t){this._components=f["default"][t]}},{key:"format",get:function(){return this._format},set:function(t){this._format=f["default"][t]}},{key:"magnification",get:function(){return this._magnification},set:function(t){this._magnification=f["default"][t]}},{key:"minification",get:function(){return this._minification},set:function(t){this._minification=f["default"][t]}},{key:"S",get:function(){return this._S},set:function(t){this._S=f["default"][t]}},{key:"T",get:function(){return this._T},set:function(t){this._T=f["default"][t]}},{key:"unit",get:function(){return this._unit},set:function(t){this._unit=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(l["default"]);e["default"]=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function v(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:v(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(52),h=r(l),d="depth.texture",p=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?d:n,a=t.width,u=t.height;i(this,e);var c=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return c.buffer=s["default"].createTexture(),c.width=a,c.height=u,c.inheritance=["Entity","Texture","DepthTexture"],c.configure(),c}return a(e,t),u(e,[{key:"configure",value:function(){c(Object.getPrototypeOf(e.prototype),"configure",this).call(this),s["default"].getExtension("WEBGL_depth_texture"),s["default"].texImage2D(s["default"].TEXTURE_2D,0,s["default"].DEPTH_COMPONENT,this.width,this.height,0,s["default"].DEPTH_COMPONENT,s["default"].UNSIGNED_INT,null),this.unbind()}},{key:"buffer",get:function(){return this._buffer},set:function(t){this._buffer=t}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(h["default"]);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:m(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(n)};Object.defineProperty(e,"__esModule",{value:!0});var f=n(11),s=r(f),l=n(52),h=r(l),d="image.texture",p=!1,v=!1,y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?d:n,a=t.path,u=t.lod,c=t.components,f=t.format,l=t.magnification,h=t.minification,y=t.S,m=t.T,b=t.anisotropy,g=void 0===b?p:b,_=t.mipmap,w=void 0===_?v:_;i(this,e);var O=o(this,Object.getPrototypeOf(e).call(this,{name:r,lod:u,components:c,format:f,magnification:l,minification:h,S:y,T:m}));return O.image=new Image,O.anisotropicFilter=s["default"].getExtension("EXT_texture_filter_anisotropic"),O.anisotropy=g,O.mipmap=w,O.inheritance=["Entity","Texture","ImageTexture"],O.fetch(a),O}return a(e,t),u(e,[{key:"fetch",value:function(t){var e=this.image;e.src=t,e.onload=this.configure.bind(this)}},{key:"configure",value:function(){c(Object.getPrototypeOf(e.prototype),"configure",this).call(this);var t=this.components,n=this.anisotropy;s["default"].pixelStorei(s["default"].UNPACK_FLIP_Y_WEBGL,!0),n&&s["default"].texParameterf(s["default"].TEXTURE_2D,this.anisotropicFilter.TEXTURE_MAX_ANISOTROPY_EXT,n),s["default"].texImage2D(s["default"].TEXTURE_2D,this.lod,t,t,this.format,this.image),this.mipmap&&s["default"].generateMipmap(s["default"].TEXTURE_2D),this.unbind()}},{key:"image",get:function(){return this._image},set:function(t){this._image=t}},{key:"anisotropicFilter",get:function(){return this._anisotropicFilter},set:function(t){this._anisotropicFilter=t}},{key:"anisotropy",get:function(){return this._anisotropy},set:function(t){var e=this.anisotropicFilter;if(e&&t!==!1){var n=s["default"].getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);t=Math.min(t,Math.max(t,n))}else t=0;this._anisotropy=t}},{key:"mipmap",get:function(){return this._mipmap},set:function(t){this._mipmap=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(h["default"]);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(1),f=n(13),s=r(f),l="particle",h=1,d=0,p=[0,0,0],v=[0,0,0],y=[0,0,0],m=[0,0,0],b=[0,0,0],g=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?l:n,a=t.mass,u=void 0===a?h:a,c=t.damping,f=void 0===c?d:c,s=t.force,g=void 0===s?p:s,_=t.acceleration,w=void 0===_?v:_,O=t.velocity,M=void 0===O?y:O,E=t.position,k=void 0===E?m:E,P=t.normal,j=void 0===P?b:P;i(this,e);var T=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return T.mass=u,T.damping=f,T.force=g,T.acceleration=w,T.velocity=M,T.previous=k,T.position=k,T.normal=j,T.inheritance=["Entity","Particle"],T}return a(e,t),u(e,[{key:"exert",value:function(t){c.vec3.add(this.force,this.force,t)}},{key:"accelerate",value:function(t){c.vec3.add(this.acceleration,this.acceleration,t)}},{key:"dampen",value:function(t){c.vec3.max(this.velocity,c.vec3.scale([],this.velocity,t),[0,0,0])}},{key:"euler",value:function(t){var e=this.velocity,n=this.position;c.vec3.add(this.velocity,e,c.vec3.scale([],this.acceleration,t)),c.vec3.add(this.position,n,c.vec3.scale([],e,t))}},{key:"simplectic",value:function(t){c.vec3.add(this.velocity,this.velocity,c.vec3.scale([],this.acceleration,t)),c.vec3.add(this.position,this.position,c.vec3.scale([],this.velocity,t))}},{key:"verlet",value:function(t){var e=this.previous,n=this.position,r=c.vec3.sub([],n,e);c.vec3.add(this.position,c.vec3.add([],n,r),c.vec3.scale([],this.acceleration,Math.pow(t,2))),c.vec3.copy(this.previous,n)}},{key:"mass",get:function(){return this._mass},set:function(t){this._mass=t}},{key:"damping",get:function(){return this._damping},set:function(t){this._damping=t}},{key:"force",get:function(){return this._force},set:function(t){this._force=t}},{key:"acceleration",get:function(){return this._acceleration},set:function(t){this._acceleration=t}},{key:"velocity",get:function(){return this._velocity},set:function(t){this._velocity=t}},{key:"previous",get:function(){return this._previous},set:function(t){this._previous=t}},{key:"position",get:function(){return this._position},set:function(t){this._position=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(s["default"]);e["default"]=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(13),f=r(c),s=n(55),l=r(s),h="particle.system",d=[0,-9.80665,0],p=.001,v="SIMPLECTIC",y=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.name,r=void 0===n?h:n,a=t.mesh,u=t.gravity,c=void 0===u?d:u,f=t.timestep,s=void 0===f?p:f,y=t.solver,m=void 0===y?v:y;i(this,e);var b=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return b.mesh=a,b.particles=a.vertices.map(function(t){return new l["default"]({position:t})}),b.gravity=c,b.timestep=s,b.solver=m,b.inheritance=["Entity","ParticleSystem"],b}return a(e,t),u(e,[{key:"solve",value:function(){this.particles.forEach(this.integrate.bind(this)),this.mesh.update(this.vertices())}},{key:"integrate",value:function(t){t.accelerate(this.gravity),t[this.solver](this.timestep)}},{key:"vertices",value:function(){var t=this.particles,e=[];return t.forEach(function(t){e.push(t.position)}),e}},{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh=t}},{key:"particles",get:function(){return this._particles},set:function(t){this._particles=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity=t}},{key:"timestep",get:function(){return this._timestep},set:function(t){this._timestep=t}},{key:"solver",get:function(){return this._solver.toLowerCase()},set:function(t){this._solver=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(1),f=n(13),s=r(f),l="spring",h="STRUCTURAL",d=function(t){function e(t){var n=t.name,r=void 0===n?l:n,a=t.A,u=t.B,f=t.stiffness,s=t.damping,d=t.type,p=void 0===d?h:d;i(this,e);var v=o(this,Object.getPrototypeOf(e).call(this,{name:r}));return v.A=a,v.B=u,v.distance=c.vec3.distance.apply(c.vec3,particles),v.stiffness=f,v.damping=s,v.force=[0,0,0],v.type=p,v.inheritance=["Entity","Spring"],v}return a(e,t),u(e,[{key:"relax",value:function(){var t=this.A,e=this.B,n=this.distance-c.vec3.distance(t,e),r=c.vec3.normalize([],c.vec3.sub([],t,e)),i=this.damping-this.stiffness*n;c.vec3.scale(this.force,r,i),t.exert(this.force),e.exert(-this.force)}},{key:"particles",get:function(){return this._particles},set:function(t){this._particles=t}},{key:"length",get:function(){return this._length},set:function(t){this._length=t}},{key:"stiffness",get:function(){return this._stiffness},set:function(t){this._stiffness=t}},{key:"damping",get:function(){return this._damping},set:function(t){this._damping=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(s["default"]);e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var c=n(56),f=r(c),s=n(57),l=(r(s),"cloth"),h=function(t){function e(t){var n=t.name,r=void 0===n?l:n,a=t.mesh,u=t.gravity,c=t.timestep,f=t.solver;i(this,e);var s=o(this,Object.getPrototypeOf(e).call(this,{name:r,mesh:a,gravity:u,timestep:c,solver:f}));return s.inheritance=["Entity","ParticleSystem","Cloth"],s.sew(),s}return a(e,t),u(e,[{key:"sew",value:function(){var t=this.particles;console.log(t)}},{key:"inheritance",get:function(){return this._inheritance},set:function(t){this._inheritance=t}}]),e}(f["default"]);e["default"]=h}]);